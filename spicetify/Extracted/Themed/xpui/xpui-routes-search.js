"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219],{24880:(e,s,t)=>{t.d(s,{o:()=>d});var a=t(59496),r=t(94633),i=t(74433),n=t(15644),l=t(35005),o=t(65630),c=t(46909),u=t(4637);const d=a.memo((function({uri:e}){const{spec:s}=(0,l.T)(e);return(0,u.jsx)(n.ZP,{value:"generic",children:(0,u.jsx)(i.v,{children:(0,u.jsx)(o.q,{divider:"before",children:(0,u.jsx)(c.Jx,{spec:s,uri:e,displayText:r.ag.get("context-menu.copy-generic-link")})})})})}))},25203:(e,s,t)=>{t.d(s,{Pd:()=>n,Wm:()=>i,i9:()=>r});var a=t(94633);const r=["artists","albums","episodes","genres","playlists","podcasts","audiobooks","tracks","users","topResults","podcastAndEpisodes"],i={artists:()=>a.ag.get("search.title.artists"),albums:()=>a.ag.get("search.title.albums"),playlists:()=>a.ag.get("search.title.playlists"),podcasts:()=>a.ag.get("search.title.shows"),episodes:()=>a.ag.get("search.title.episodes"),audiobooks:()=>a.ag.get("search.title.audiobooks"),users:()=>a.ag.get("search.title.profiles"),genres:()=>a.ag.get("search.title.genres-and-moods"),tracks:()=>a.ag.get("search.title.tracks"),podcastAndEpisodes:()=>a.ag.get("search.title.podcast-and-shows"),topResults:()=>a.ag.get("search.row.top-results")},n=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"]},10861:(e,s,t)=>{t.d(s,{M:()=>w});var a=t(59496),r=t(84875),i=t.n(r),n=t(83792),l=t(97601),o=t(85830),c=t(93660),u=t(51697),d=t(70138),p=t(9401),m=t(48928),h=t(14887),g=t(94633),x=t(23198),y=t(82760),j=t(34046),f=t(45364),v=t(95915);const k="main-topBar-searchBar",C="x-searchInput-searchInputSearchIcon",b="x-searchInput-searchInputInput",S="x-searchInput-searchInputOnSearch",R="x-searchInput-searchInputClearButton",E="x-searchInput-searchInputIconContainer",I="x-searchInput=searchInputClearIcon";var N=t(4637);const w=a.memo((function({isSearchChipsEnabled:e=!1,onSearch:s=!0,onClick:t}){const r=(0,l.TH)(),w=(0,l.s0)(),A=(0,a.useRef)(null),U=(0,a.useRef)(null),F=(0,n.I0)(),[{category:D,query:P},T]=(0,v.l)(),[q,L]=(0,a.useState)(P),M=!!D,_=(0,y.Mi)(),H=r.pathname.startsWith("/recent-searches"),B=M||H,{spec:O,logger:W}=(0,j.fU)(m.createDesktopSearchInputEventFactory,{}),z=(0,o.y1)(((s,t,a)=>{let r;if(a){const{interactionId:e}=W.logInteraction(a);r=e}e?T(s,D,!1,r):T(s,null,t,r),_.current&&(_.current.scrollTop=0)}),200),$=(0,a.useCallback)(((e=!1)=>{A.current!==document.activeElement&&(U.current=document.activeElement,A.current&&A.current.focus()),e&&A.current?.select()}),[]);(0,x.eY)(x.O4.SHOW_SEARCH,(()=>$(!0)));const Z=r.pathname.startsWith("/search");(0,a.useEffect)((()=>{!B&&s&&Z&&(e&&P||$())}),[P,$,r.key,s,Z,B,e]),(0,a.useEffect)((()=>{L(Z?P:"")}),[Z,P]);return(0,N.jsxs)("div",{className:i()(k,{[S]:!s}),children:[(0,N.jsx)("form",{onSubmit:e=>{e.preventDefault(),q&&W.logInteraction(O.keyStrokeSearch());const s=(0,h.EC)(q);if(s?.type===h.JM.AD){const e=(0,h.HB)(s.id);if(s.id===e)return;F((0,f.HI)(s.id))}else s?w(s.toURLPath(!0),{state:{preventMoveFocus:!0}}):q||w("/search",{state:{preventMoveFocus:!0}});q&&_.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search",children:(0,N.jsx)(u.D,{variant:"mesto",as:"input",style:{color:c.Snx},ref:A,className:i()(b),value:q,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const s=e.currentTarget.value,t=O.keyStrokeChangeSearchQuery({searchQueryString:s});L(s),z(s,B,t)},onKeyDown:e=>{if("Escape"===e.key)if(q){const e=O.hitTextClear();L(""),z("",B,e)}else A.current&&A.current.blur(),U.current instanceof HTMLElement&&U.current.focus()},placeholder:s?g.ag.get("search.search-for-label"):g.ag.get("navbar.search"),onFocus:()=>{e||!B&&s||z(q,B,null)},"data-testid":"search-input",onClick:t})}),(0,N.jsxs)("div",{className:E,children:[(0,N.jsx)("span",{className:C,children:(0,N.jsx)(d.j,{className:I,"aria-hidden":!0,iconSize:16})}),q&&(0,N.jsx)("button",{className:R,onClick:()=>{A.current&&A.current.focus();const e=O.hitTextClear();L(""),z("",B,e)},"aria-label":g.ag.get("search.a11y.clear-input"),children:(0,N.jsx)(p.k,{className:I,iconSize:16})})]})]})}))},95915:(e,s,t)=>{t.d(s,{l:()=>l});var a=t(59496),r=t(97601),i=t(25203);const n=e=>i.i9.find((s=>s===e));function l(){const e=(0,r.s0)(),s=(0,r.bS)("/search/:query"),t=(0,r.bS)("/search/:query/:category"),i=(0,a.useCallback)((function(s,t,a,r){const i=r?{interactionId:r,preventMoveFocus:!0}:{preventMoveFocus:!0},n=["/search"];s&&(n.push(encodeURIComponent(s)),t&&n.push(t));const l=n.join("/");e(l,a?{state:i}:{state:i,replace:!0})}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch{return e}}(s?.params.query??t?.params?.query??""),category:n(t?.params.category)},i]}},74365:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ha});var a=t(59496),r=t(84875),i=t.n(r),n=t(83792),l=t(97601),o=t(55530),c=t.n(o),u=t(9990),d=t(70356),p=t(94633),m=t(80864),h=t(47941),g=t(50184),x=t(55999),y=t(34046),j=t(12463),f=t(95943),v=t(15644),k=t(46961),C=t(4637);const b=()=>{const{searchHistory:e,clearSearchHistory:s}=(0,k.u)();return 0===e.length?null:(0,C.jsx)(j.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:p.ag.get("search.title.recent-searches"),children:e.map(((e,t)=>(0,C.jsx)(v.ZP,{index:t,value:"search-history",children:(0,C.jsx)(f.q,{entity:e,index:t,clearSearchHistory:s})},e.uri)))})};var S=t(47948);const R="search-searchBrowse-SearchBrowse",E=()=>{const{spec:e,UBIFragment:s}=(0,y.fU)(m.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:t,topGenresSpec:r,browseAllSpec:i}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,C.jsxs)("div",{className:R,children:[(0,C.jsx)(s,{spec:t,children:(0,C.jsx)(b,{})}),(0,C.jsx)(h.F,{property:S.Oe6,renderNewExperience:()=>(0,C.jsx)(x.Tn,{browseAllSpec:i}),renderOldExperience:()=>(0,C.jsx)(g.T,{topGenresSpec:r,browseAllSpec:i})})]})};var I=t(17584),N=t(6854),w=t(50312),A=t(67490),U=t(37514),F=t(25203);const D="search-searchCategory-SearchCategory",P="search-searchCategory-container",T="search-searchCategory-wrapper",q="search-searchCategory-categoryGridItem",L=({to:e,title:s,selected:t,onClick:a})=>(0,C.jsx)(A.default,{replace:!0,to:e,tabIndex:-1,onClick:a,className:q,children:(0,C.jsx)(I.A,{selected:t,selectedColorSet:"invertedLight",tabIndex:-1,children:s})}),M=({searchCategories:e,selectedCategory:s,displayChips:t})=>{const a=(0,u.W6)(S.Dzq),{query:r}=(0,U.A)(),{spec:n,logger:l}=(0,y.fU)(N.createDesktopSearchChipsEventFactory,{});if(!r||!t)return null;const o=encodeURIComponent(r);return(0,C.jsx)("div",{className:D,children:(0,C.jsx)("div",{className:i()(P,"contentSpacing"),children:(0,C.jsx)("div",{className:T,children:(0,C.jsxs)(w.l,{children:[!a&&e.length>0&&(0,C.jsx)(L,{to:`spotify:app:search:${o}`,title:p.ag.get("search.title.all"),selected:void 0===s,onClick:()=>{l.logInteraction(n.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}},"all"),e.map(((e,t)=>{const a=F.Wm[e]?.();return(0,C.jsx)(L,{to:`spotify:app:search:${o}:${e}`,title:a,selected:s===e,onClick:()=>{l.logInteraction(n.chipFactory({identifier:e,position:t+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}},e)}))]})})})})};var _=t(94823),H=t(24619),B=t(73748),O=t(25639),W=t(95195),z=t(46584);const $={[O.xN.Podcasts]:["podcasts","podcastAndEpisodes"],[O.xN.Episodes]:["episodes","podcastAndEpisodes"],[O.xN.TopResults]:["topResults","topResults"],[O.xN.Artists]:["artists","artists"],[O.xN.Albums]:["albums","albums"],[O.xN.Playlists]:["playlists","playlists"],[O.xN.Tracks]:["tracks","tracks"],[O.xN.Audiobooks]:["audiobooks","audiobooks"],[O.xN.Genres]:["genres","genres"],[O.xN.Users]:["users","users"]};var Z=t(7442),G=t(94946),Q=t(90326),X=t(27545),K=t(184);const V={albums:d.Wg.SEARCH_ALBUMS,artists:d.Wg.SEARCH_ARTISTS,episodes:d.Wg.SEARCH_EPISODES,genres:d.Wg.SEARCH_GENRES,playlists:d.Wg.SEARCH_PLAYLISTS,podcasts:d.Wg.SEARCH_SHOWS,audiobooks:d.Wg.SEARCH_AUDIOBOOKS,tracks:d.Wg.SEARCH_SONGS,users:d.Wg.SEARCH_PROFILES,podcastAndEpisodes:d.Wg.SEARCH_PODCASTS_AND_EPISODES,topResults:d.Wg.SEARCH};function Y({children:e}){const{query:s="",category:t=""}=(0,l.UO)();return(0,C.jsx)(K.K,{pageId:V[t],entityUri:`spotify:app:search:${s}:${t}`,children:e})}function J({children:e}){const{query:s}=(0,l.UO)();return(0,C.jsx)(K.K,{pageId:d.Wg.SEARCH,entityUri:`spotify:app:search:${s}`,children:e})}var ee=t(98616),se=t(56889),te=t(14887),ae=t(59070),re=t(21043),ie=t(51697),ne=t(98484),le=t(51664);const oe="hngqMWKjlLOEcuxpoHz9",ce="WjLSNZPxuT0Zuw42kxSM",ue="zFOvsuNQpwehjH2VoiLL",de="zeGt0Z2HCYRvd6ziu_t9",pe=({forChip:e})=>{const{query:s,serpId:t}=(0,U.A)(),a=!(0,Z.k)(),r=`/search/${s}`,i=(0,te.ix)(s).toURI(),{spec:n,logger:l}=(0,y.fU)(le.createDesktopSearchEmptyResultsEventFactory,{data:{uri:i,reason:t}}),o=(0,y.Wi)(n);return(0,C.jsxs)("div",{className:oe,"aria-live":"polite",ref:o,children:[(0,C.jsx)(ie.D,{as:"h1",variant:"canon",className:ce,children:e?p.ag.get("search.empty-results-title-for-chip",s,e):p.ag.get("search.empty-results-title",s)}),(0,C.jsx)("p",{className:ue,children:a?p.ag.get("web-player.search-modal.offline"):p.ag.get("search.empty-results-text")}),e&&(0,C.jsx)(re.rU,{to:r,children:(0,C.jsx)(ne.D,{colorSet:"invertedLight",className:de,onClick:()=>{l.logInteraction(n.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:p.ag.get("search.see-all")})})]})};var me=t(43225);const he={results:null,isError:!1,isFetchMoreError:!1},ge=(e,s)=>{const t=(0,me.t)(),r=(0,a.useRef)(null),i=(0,a.useRef)(0),[n,l]=(0,a.useState)(he),o=(0,a.useCallback)((async(a=!1)=>{if(!t())return;a&&(i.current=0,r.current=null);let n=e;if(null!==r.current){if(i.current>=r.current)return;i.current+n>r.current&&(n=r.current-i.current)}try{const e=await s(i.current,n);i.current+=n,r.current=e.totalCount||0,t()&&l((s=>({isError:!1,isFetchMoreError:!1,results:(a||null===s.results?[]:s.results).concat(e.items)})))}catch(e){t()&&l((e=>{const s=null===e.results||a;return{results:a?[]:e.results,isError:s,isFetchMoreError:!s}}))}}),[e,s,t]);return(0,a.useEffect)((()=>{o(!0)}),[o]),{results:n.results,isError:n.isError,fetchData:o,totalCountRef:r}};var xe=t(87564),ye=t(22792),je=t(26156),fe=t(99750),ve=t(64689),ke=t(18112);const Ce=a.memo((function({uri:e,size:s=fe.q.md,className:t,onClick:r,showUpsell:i}){const[n,l]=(0,ve.Z)(e),o=(0,ke.o)(),c=(0,a.useCallback)((()=>{o({targetUri:e,intent:"add-to-library",type:"click"}),l(!0)}),[o,e,l]);return(0,C.jsx)(fe.o,{className:t,isFollowing:n,onFollow:c,onClick:r,uri:e,size:s,showUpsell:i})})),be="RTP39YFgFAoVSlly6vCF",Se="QT1jLaHHvO5g2YQor2Fw",Re="wArYyZVjFviopRvRFV8t",Ee="kRDD8AcqeOf5UDjOSQ8j",Ie="XN4TCZATPrKkEMngUtFc",Ne="VYaCpehPPhmTYPRxMBub",we="abMqJCpsuShBo0DaZ7IY",Ae="ON88h0KYGqXMdOfsqot8",Ue="BHFMWOZUKxElyq1Ffc_S",Fe="EyH4QLenIbFw0x8r83eK",De="JA9jP30dm3GJikfs7vBn",Pe="xKl_2100SG4svBvzZ8Xv",Te="leel3U31UlOaYhKp6FgQ",qe="FxqpfDsISPKNu1XFExOg",Le="kE234isNxJ9XiTT8QoJL",Me="KcOp4A5HBQ4EPH0IDRxg",_e="oODk_3Glvh7wotUlk4ov";var He=t(34198);const Be=({uri:e,spec:s})=>{const t=(0,y.$P)(),r=(0,a.useCallback)(((a,r)=>{(0,He.l7)(r,s.downloadButtonFactory(),t,e)}),[t,s,e]);return(0,C.jsx)(Ce,{className:Ee,uri:e,size:fe.q.xs,showUpsell:!1,onClick:r})};var Oe=t(56071),We=t(35585);const ze=({shape:e=Oe.K.ROUNDED_CORNERS,type:s,name:t,images:a})=>(0,C.jsx)(Oe.O,{shape:e,size:We.m$.SIZE_64,images:a,type:s,title:t});var $e=t(40006),Ze=t(40981);const Ge=(0,a.createContext)((()=>{})),Qe=({menu:e,name:s,spec:t})=>{const r=(0,y.$P)(),i=(0,a.useContext)(Ge),n=(0,a.useCallback)((()=>{r.logInteraction(t.contextButtonFactory().hitUiReveal()),i(!0)}),[r,i,t]),l=(0,a.useCallback)((()=>{i(!1)}),[i]);return(0,C.jsx)(Ze.ClickToggleContextMenu,{menu:e,onShow:n,onHide:l,children:(0,C.jsx)($e.MoreButton,{className:Ie,size:$e.q.sm,label:p.ag.get("more.label.context",s)})})};var Xe=t(54781);const Ke=({name:e,uri:s,spec:t})=>{const r=(0,y.$P)(),i=(0,a.useCallback)((()=>{r.logInteraction(t.titleLinkFactory({uri:s}).hitUiNavigate({destination:s}))}),[r,t,s]);return(0,C.jsx)(Xe.ws,{label:e,showDelay:Xe.gQ,children:(0,C.jsx)(A.default,{to:s,className:Ue,onClick:i,children:(0,C.jsx)(ie.D,{variant:"balladBold",semanticColor:"textBase",className:Fe,children:e})})})};var Ve=t(93256),Ye=t(85830),Je=t(60515),es=t(53234),ss=t(90807),ts=t(98515),as=t(13138);const rs=a.forwardRef((function({children:e,isLocked:s=!1,uri:t,playAriaLabel:r,spec:n},l){const[o,c]=(0,a.useState)(!1),u=(0,y.$P)(),{isPlaying:d,isActive:p,togglePlay:m}=(0,as.n)({uri:t},{featureIdentifier:"search"}),h=(0,Ye.y1)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),s)u.logInteraction(n.playbackButtonFactory().hitShowPaywall({paywalledItem:t}));else{const e=(0,He.aK)({isPlaying:d,isActive:p,spec:n.playbackButtonFactory(),logger:u,uri:t});m({loggingParams:e})}}),ss.s_,{leading:!0,trailing:!1});(0,a.useEffect)((()=>{const e=()=>{c(!0)},s=()=>{c(!1)};return d&&(c(document.hasFocus()),window.addEventListener("focus",e),window.addEventListener("blur",s)),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",s)}}),[d]);const g=!(0,ts.T)()&&o;return(0,C.jsxs)("div",{className:i()(De),children:[d?(0,C.jsx)("img",{className:we,width:"14",height:"14",alt:"",src:(0,Je.g)(g?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")}):e,(0,C.jsx)(es.I,{className:Ne,iconClassName:Me,onClick:h,isPlaying:d,isLocked:s,playAriaLabel:r,ref:l})]})}));var is=t(26790);const ns="kwJGggri7IZMFvQEClUf",ls="yt0QcQy0t7LfbeVaEJG_",os="WHMDRepGVQXXrTx3838g",cs="wLoqasagmgNF8ULGMhil",us="cpC_03FZN3i93V8j3g0l",ds="S7CXd4i9huhWL_kPV_e3",ps="c85eTWJAYaGjCiwH1WDu",ms="cTTgGuDbNSWllHjVqiUx",hs=({className:e,leading:s,media:t,pretitle:a,title:r,subtitle:n,body:l,footer:o,trailing:c,onContextMenu:u,onTouchStart:d,onTouchEnd:p,onDragStart:m,onDoubleClick:h})=>{const g=(0,is.jh)();return(0,C.jsxs)("div",{className:i()(e,ns),onContextMenu:u,onTouchStart:d,onTouchEnd:p,draggable:!0,onDragStart:m,onDoubleClick:h,children:[s?(0,C.jsx)("div",{className:ls,children:s}):null,t?(0,C.jsx)("div",{className:os,children:t}):null,(0,C.jsxs)("div",{className:cs,children:[a?(0,C.jsx)("div",{children:a}):null,r?(0,C.jsx)("div",{className:ps,children:r}):null,n?(0,C.jsx)("div",{className:ms,children:n}):null,l?(0,C.jsx)("div",{children:l}):null,o?(0,C.jsx)("div",{children:o}):null]}),c?(0,C.jsx)("div",{className:i()(us,{[ds]:g===is.Uo.MEDIUM}),children:c}):null]})};var gs=t(90784);const xs=e=>void 0!==e;const ys=({uri:e,destinationUri:s=e,name:t,createdBy:r,menu:n,media:l,leading:o,title:c,subtitle:u,body:d,trailing:p,onClick:m,spec:h})=>{const{isActive:g}=(0,Ve.cR)(e),x=(0,y.$P)(),j=(0,a.useCallback)((()=>{x.logInteraction(h.secondaryHitUiReveal())}),[x,h]),f=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(x.logInteraction(h.hitUiNavigate({destination:s})),m(e))}),[x,m,h,s]),v=function(e,s){if(e!==s)return`?highlight=${e}`}(e,s),k=(0,y.Wi)(h),b=((e,s,t)=>{const r=(0,gs.O)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const i=[s,t].filter(xs).join(" • ");r(a,[e],i,void 0,void 0)}),[r,t,s,e])})(e,t,r),[S,R]=(0,a.useState)(!1);return(0,C.jsx)(Ge.Provider,{value:R,children:(0,C.jsx)(Ze._,{menu:n,onShow:j,children:(0,C.jsx)(A.default,{to:s,search:v,tabIndex:-1,onClick:f,className:be,"data-context-menu-open":S.toString(),ref:k,children:(0,C.jsx)(hs,{leading:o||!0,title:c,subtitle:u,body:d,trailing:p,media:l,className:i()(Se,{[Ae]:g}),onDragStart:b})})})})};var js=t(95202),fs=t(80026);const vs=({uri:e,type:s,spec:t})=>{const r=(0,y.$P)(),i=(0,a.useCallback)((s=>{const a=s?t.heartButtonFactory().hitLike({itemToBeLiked:e}):t.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});r.logInteraction(a)}),[t,r,e]);return["episode","audiobook"].includes(s)?(0,C.jsx)(js.w,{uri:e,className:Re,onClick:i}):(0,C.jsx)(fs.B,{uri:e,className:Re,onClick:i})};var ks=t(73519),Cs=t(15917),bs=t(18858),Ss=t(10236),Rs=t(70231);const Es=({children:e,uri:s,name:t,index:r,menu:i,spec:n})=>{const l=(0,gs.O)([s],t),o=(0,y.$P)(),c=(0,a.useCallback)((()=>{const e=n.subtitleLinkFactory({uri:s,position:r}).hitUiNavigate({destination:s});o.logInteraction(e)}),[r,o,n,s]);return(0,C.jsx)(Rs._,{menu:i,children:(0,C.jsx)(Xe.ws,{label:t,showDelay:Xe.gQ,children:(0,C.jsx)(A.default,{draggable:!0,to:s,onDragStart:l,dir:"auto",onClick:c,children:e})})})},Is=({artists:e,spec:s})=>e?(0,C.jsx)(C.Fragment,{children:e.map((({uri:e,name:t},a)=>[a>0&&p.ag.getSeparator(),(0,C.jsx)(Es,{name:t,uri:e,index:a,menu:(0,C.jsx)(ks.m,{uri:e}),spec:s,children:t},e)]))}):null,Ns=({topics:e=[],spec:s})=>0===e.length?null:(0,C.jsx)(C.Fragment,{children:e.filter(Ss.J).map((({uri:e,title:t},a)=>[a>0&&p.ag.getSeparator(),(0,C.jsx)(Es,{name:t,uri:e,index:a,spec:s,children:t},e)]))}),ws=({show:e,spec:s})=>(0,C.jsx)(Es,{name:e.name,uri:e.uri,index:0,menu:(0,C.jsx)(Cs.M,{uri:e.uri}),spec:s,children:e.name}),As=({uri:e,name:s,spec:t})=>(0,C.jsx)(Es,{name:s,uri:e,index:0,menu:(0,C.jsx)(bs.I,{uri:e}),spec:t,children:s}),Us=a.memo((function({album:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o,year:c,artists:u}=e,d=u[0].name,{spec:m}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),{isPlaying:h}=(0,Ve.cR)(i),g=(0,C.jsx)(je.Y,{uri:i});return(0,C.jsx)(ys,{spec:m,menu:g,uri:i,name:l,createdBy:u.map((e=>e.name)).join(p.ag.getSeparator()),onClick:s,media:(0,C.jsx)(ze,{type:n,name:l,images:o}),leading:(0,C.jsx)(rs,{isLocked:!1,uri:i,spec:m,playAriaLabel:h?p.ag.get("pause"):p.ag.get("tracklist.a11y.play",l,d)}),title:(0,C.jsx)(Ke,{name:l,uri:i,spec:m}),subtitle:(0,C.jsxs)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:[a&&(0,C.jsx)(ie.D,{className:Le,children:p.ag.get("card.tag.album")}),(0,C.jsx)(ie.D,{className:Le,children:(0,C.jsx)(Is,{artists:u,spec:m})})]}),body:(0,C.jsx)(ie.D,{variant:"mesto",semanticColor:"textSubdued",children:c}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Be,{uri:i,spec:m}),(0,C.jsx)(vs,{uri:i,type:"album",spec:m}),(0,C.jsx)(Qe,{menu:g,name:l,spec:m})]})})}));var Fs=t(51742);const Ds=a.memo((function({artist:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o,verified:c}=e,{spec:u}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),{isPlaying:d}=(0,Ve.cR)(i),m=(0,C.jsx)(ks.m,{uri:i});return(0,C.jsx)(ys,{spec:u,menu:m,uri:i,name:l,onClick:s,media:(0,C.jsx)(ze,{type:n,name:l,images:o}),leading:(0,C.jsx)(rs,{isLocked:!1,uri:i,spec:u,playAriaLabel:d?p.ag.get("playlist.a11y.play",l):p.ag.get("pause")}),title:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ke,{name:l,uri:i,spec:u}),c&&(0,C.jsx)(Fs.S,{iconSize:16})]}),subtitle:a&&(0,C.jsx)(ie.D,{variant:"mesto",semanticColor:"textSubdued",children:p.ag.get("card.tag.artist")}),trailing:(0,C.jsx)(Qe,{menu:m,name:l,spec:u})})}));var Ps=t(46882),Ts=t(62510);const qs=a.memo((function({book:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o,authorName:c,publishDate:u,topics:d}=e,{spec:m}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),h=(0,C.jsx)(Ps.X,{uri:i}),g=d&&d.length>0;return(0,C.jsx)(ys,{spec:m,menu:h,uri:i,name:l,onClick:s,media:(0,C.jsx)(ze,{type:n,name:l,images:o}),title:(0,C.jsx)(Ke,{name:l,uri:i,spec:m}),subtitle:(0,C.jsxs)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:[a&&(0,C.jsx)(ie.D,{className:Le,children:p.ag.get("search.row.subtitle")}),(0,C.jsx)(Xe.ws,{label:c,showDelay:Xe.gQ,children:(0,C.jsx)(ie.D,{className:Le,children:c})})]}),body:(0,C.jsxs)(C.Fragment,{children:[u&&(0,C.jsx)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:(0,Ts.rL)((0,Ts.RX)(u.toISOString()))}),g&&(0,C.jsx)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:(0,C.jsx)(Ns,{topics:d,spec:m})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(vs,{uri:i,type:"audiobook",spec:m}),(0,C.jsx)(Qe,{menu:h,name:l,spec:m})]})})}));var Ls=t(87901),Ms=t(73750),_s=t(41946),Hs=t(4085),Bs=t(29553),Os=t(10003);const Ws=a.memo((function({episode:e,onClick:s,index:t,withEntityTag:r=!1}){const{requestId:n,uri:l,type:o,name:c,images:u,show:d,release:m,duration:h,isExplicit:g,is19PlusOnly:x,timeLeft:j}=e,{logger:f,spec:v}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:n??"",uri:l}}),{isPlaying:k}=(0,Ve.cR)(l),b=(0,a.useCallback)(((e,s)=>{(0,He.l7)(s,v.downloadButtonFactory(),f,l)}),[f,v,l]),S=(0,C.jsx)(_s.k,{uri:l});return(0,C.jsx)(ys,{spec:v,menu:S,uri:l,name:c,createdBy:d?.name||void 0,onClick:s,media:(0,C.jsx)(ze,{type:o,name:c,images:u}),leading:(0,C.jsx)(rs,{isLocked:!1,uri:l,spec:v,playAriaLabel:k?p.ag.get("pause"):d?p.ag.get("tracklist.a11y.play",c,d.publisher):p.ag.get("playlist.a11y.play",c)}),title:(0,C.jsx)(Ke,{name:c,uri:l,spec:v}),subtitle:(0,C.jsxs)(C.Fragment,{children:[g&&(0,C.jsx)(Hs.N,{}),x&&(0,C.jsx)(Bs.X,{size:16}),(0,C.jsxs)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:[r&&(0,C.jsx)(ie.D,{children:p.ag.get("card.tag.episode")}),d&&(0,C.jsx)(ie.D,{className:Le,children:(0,C.jsx)(ws,{show:d,spec:v})})]})]}),body:(0,C.jsxs)(C.Fragment,{children:[m.date&&(0,C.jsx)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:(0,Ts.rL)((0,Ts.RX)(m.date))}),(0,C.jsx)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:i()(Le,Pe),children:j.milliseconds>0?(0,C.jsx)(Os.n,{durationMs:h.milliseconds}):(0,C.jsxs)(ie.D,{className:Te,children:[p.ag.get("episode.played"),(0,C.jsx)(Ls.N,{iconSize:16,className:qe,"aria-hidden":"true"})]})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ms.p,{className:Ee,uri:l,size:Ms.q.xs,showUpsell:!1,onClick:b}),(0,C.jsx)(vs,{uri:l,type:"episode",spec:v}),(0,C.jsx)(Qe,{menu:S,name:c,spec:v})]})})}));var zs=t(24880);const $s=a.memo((function({genre:e,onClick:s,index:t}){const{requestId:a,uri:r,type:i,name:n,images:l}=e,{spec:o}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:a??"",uri:r}});return(0,C.jsx)(ys,{spec:o,menu:(0,C.jsx)(zs.o,{uri:r}),uri:r,name:n,onClick:s,media:(0,C.jsx)(ze,{type:i,name:n,images:l}),title:(0,C.jsx)(Ke,{name:n,uri:r,spec:o})})}));var Zs=t(62168);const Gs=a.memo((function({playlist:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o,owner:c}=e,{spec:u}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),{isPlaying:d}=(0,Ve.cR)(i),m=c.displayName?p.ag.get("tracklist.a11y.play",l,c.displayName):p.ag.get("play"),h=(0,C.jsx)(Zs.X,{uri:i});return(0,C.jsx)(ys,{spec:u,menu:h,uri:i,name:l,createdBy:c.displayName??void 0,onClick:s,media:(0,C.jsx)(ze,{type:n,name:l,images:o}),leading:(0,C.jsx)(rs,{isLocked:!1,uri:i,spec:u,playAriaLabel:d?p.ag.get("pause"):m}),title:(0,C.jsx)(Ke,{name:l,uri:i,spec:u}),subtitle:(0,C.jsxs)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:[a&&(0,C.jsx)(ie.D,{className:Le,children:p.ag.get("card.tag.playlist")}),c.displayName&&(0,C.jsx)(ie.D,{className:Le,children:(0,C.jsx)(As,{uri:c.uri,name:p.ag.get("search.playlist-by",c.displayName),spec:u})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Be,{uri:i,spec:u}),(0,C.jsx)(vs,{uri:i,type:"playlist",spec:u}),(0,C.jsx)(Qe,{menu:h,name:l,spec:u})]})})})),Qs=a.memo((function({show:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:n,type:l,name:o,images:c,publisher:u,topics:d}=e,{spec:m}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:n}}),h=(0,C.jsx)(Cs.M,{uri:n});return(0,C.jsx)(ys,{spec:m,menu:h,uri:n,name:o,onClick:s,media:(0,C.jsx)(ze,{type:l,name:o,images:c}),title:(0,C.jsx)(Ke,{name:o,uri:n,spec:m}),subtitle:(0,C.jsxs)(ie.D,{variant:"mesto",semanticColor:"textSubdued",children:[(0,C.jsxs)("div",{children:[a&&(0,C.jsx)(ie.D,{className:Le,children:p.ag.get("card.tag.show")}),(0,C.jsx)(ie.D,{className:i()(Le),children:u})]}),(0,C.jsx)("div",{children:(0,C.jsx)(ie.D,{className:i()(Le,_e),children:(0,C.jsx)(Ns,{topics:d,spec:m})})})]}),trailing:(0,C.jsx)(Qe,{menu:h,name:o,spec:m})})}));var Xs=t(51431);const Ks=a.memo((function({track:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,artists:o,album:c,isExplicit:u,is19PlusOnly:d}=e,m=o[0].name,{spec:h}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),{isPlaying:g}=(0,Ve.cR)(i),x=(0,C.jsx)(Xs.$,{uri:i});return(0,C.jsx)(ys,{spec:h,uri:i,destinationUri:c?.uri||void 0,menu:x,name:l,createdBy:o.map((e=>e.name)).join(p.ag.getSeparator()),onClick:s,media:(0,C.jsx)(ze,{type:n,name:l,images:c?.images||[]}),leading:(0,C.jsx)(rs,{isLocked:!1,uri:i,spec:h,playAriaLabel:g?p.ag.get("pause"):p.ag.get("tracklist.a11y.play",l,m)}),title:(0,C.jsx)(Ke,{name:l,uri:i,spec:h}),subtitle:(0,C.jsxs)(C.Fragment,{children:[u&&(0,C.jsx)(Hs.N,{}),d&&(0,C.jsx)(Bs.X,{size:16}),(0,C.jsxs)(ie.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:[a&&(0,C.jsx)(ie.D,{children:p.ag.get("card.tag.track")}),(0,C.jsx)(ie.D,{className:Le,children:(0,C.jsx)(Is,{artists:o,spec:h})})]})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(vs,{uri:i,type:"track",spec:h}),(0,C.jsx)(Qe,{menu:x,name:l,spec:h})]})})})),Vs=a.memo((function({user:e,onClick:s,index:t,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:l,images:o}=e,{spec:c}=(0,y.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:t,reason:r??"",uri:i}}),u=(0,C.jsx)(bs.I,{uri:i});return(0,C.jsx)(ys,{spec:c,menu:u,uri:i,name:l,onClick:s,media:(0,C.jsx)(ze,{type:n,name:l,images:o,shape:Oe.K.CIRCLE}),title:(0,C.jsx)(Ke,{name:l,uri:i,spec:c}),subtitle:a&&(0,C.jsx)(ie.D,{variant:"mesto",semanticColor:"textSubdued",children:p.ag.get("card.tag.profile")}),trailing:(0,C.jsx)(Qe,{menu:u,name:l,spec:c})})})),Ys=({entity:e,index:s,withEntityTag:t})=>{const{onAddToHistory:r}=(0,U.A)(),i=(0,a.useCallback)((()=>{r(e)}),[e,r]);switch(e.type){case W.p.ALBUM:return(0,C.jsx)(Us,{album:e,onClick:i,index:s,withEntityTag:t});case W.p.ARTIST:return(0,C.jsx)(Ds,{artist:e,onClick:i,index:s,withEntityTag:t});case W.p.AUDIOBOOK:return(0,C.jsx)(qs,{book:e,onClick:i,index:s,withEntityTag:t});case W.p.EPISODE:return(0,C.jsx)(Ws,{episode:e,onClick:i,index:s,withEntityTag:t});case W.p.GENRE:return(0,C.jsx)($s,{genre:e,onClick:i,index:s});case W.p.PLAYLIST:return(0,C.jsx)(Gs,{playlist:e,onClick:i,index:s,withEntityTag:t});case W.p.USER:return(0,C.jsx)(Vs,{user:e,onClick:i,index:s,withEntityTag:t});case W.p.SHOW:return(0,C.jsx)(Qs,{show:e,onClick:i,index:s,withEntityTag:t});case W.p.TRACK:return(0,C.jsx)(Ks,{track:e,onClick:i,index:s,withEntityTag:t});default:return(0,xe._)(e),null}};var Js=t(75170),et=t(24393);const st="FSAE0ABtUCeNRJckpcCH",tt="H2PDjUgJNBIH5eWg59M0",at="vRlEuZATPhZt2l04RVIw",rt="Adlh7XTc3j3pXM3jGgr8",it=({index:e,item:s})=>{const{episode:t,show:a}=s,{usePlayContextItem:r}=(0,as.n)({uri:s.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,C.jsxs)("div",{className:rt,children:[(0,C.jsx)(et.V,{index:e,episode:{...t,requestId:s.requestId},showMetadata:a,usePlayContextItem:r}),(0,C.jsx)("hr",{className:at,"aria-hidden":!0})]})},nt=({showTitle:e=!0,displayEmptyPageOnEmptyResults:s=!0,displayError:t=!0,enableInfiniteScroll:a=!1,fetchData:r,totalCountRef:n,items:l,isError:o,isSearchV3Enabled:c})=>{const{query:u,serpId:d}=(0,U.A)(),p=(0,te.ix)(u).toURI(),{ref:m,breakpoint:h}=(0,is.Db)({[is.Uo.MEDIUM]:0,[is.Uo.LARGE]:600}),g=(0,y.$P)(),x=`spotify:app:search:${encodeURIComponent(u)}:${At}`,{spec:j,UBIFragment:f}=(0,y.fU)(se.m,{data:{uri:p,reason:d}});return o?t?(0,C.jsx)(ee.p,{}):null:0===n.current?s?(0,C.jsx)(f,{spec:j.emptyResultsFactory(),children:(0,C.jsx)(pe,{forChip:F.Wm.episodes()})}):null:(0,C.jsxs)(is.ZU.Provider,{value:h,children:[l&&e&&(0,C.jsx)(ae.r,{title:F.Wm.episodes(),seeAllUri:x,onClickTitle:()=>{j&&g.logInteraction(j.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:x}))},onClickSeeAll:()=>{j&&g.logInteraction(j.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:x}))},hasMoreElements:!a&&l.length<(n.current||0)}),(0,C.jsx)("div",{ref:m,className:tt,children:l&&(0,C.jsx)(Js.C,{triggerOnInitialLoad:!1,className:i()({[st]:c}),onReachBottom:()=>{a&&r()},children:l})})]})},lt=e=>{const{query:s,api:t}=(0,U.A)(),{results:r,isError:i,fetchData:n,totalCountRef:l}=ge(30,(0,a.useCallback)(((e,a)=>t.getFullEpisodes(s,e,a)),[t,s]));return(0,C.jsx)(nt,{...e,fetchData:n,totalCountRef:l,items:r?.map(((e,s)=>(0,C.jsx)(it,{item:e,index:s},s))),isError:i})},ot=e=>{const{query:s,api:t}=(0,U.A)(),{results:r,isError:i,fetchData:n,totalCountRef:l}=ge(30,(0,a.useCallback)(((e,a)=>t.getSearchCategoryResults(s,"episodes",!1,e,a)),[t,s]));return(0,C.jsx)(nt,{...e,fetchData:n,totalCountRef:l,items:r?.map(((e,s)=>(0,C.jsx)(Ys,{entity:e,index:s},s))),isError:i,isSearchV3Enabled:!0})},ct=e=>(0,u.W6)(S.Dzq)?(0,C.jsx)(ot,{...e}):(0,C.jsx)(lt,{...e});var ut=t(98211);const dt=e=>{const{title:s,category:t,query:a,results:r,onAddToHistory:i,position:n,showSeeAll:l}=e;if(!r)return null;const{items:o,totalCount:c}=r;return o&&0!==o.length?(0,C.jsx)(j.q,{index:n,id:t,total:c||0,title:s,testId:`${t}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${t}`,showSeeAll:l,children:o.map(((e,s)=>(0,C.jsx)(v.ZP,{value:t,index:s,children:(0,C.jsx)(ut.h,{onClick:()=>i(e),entity:e,index:s})},e.uri)))}):null},pt="pE9ccpPiPFWfTWfDdKT_",mt=({results:e})=>{const{query:s,serpId:t,onAddToHistory:a}=(0,U.A)(),r=(0,te.ix)(s).toURI(),{spec:i,UBIFragment:n}=(0,y.fU)(se.m,{data:{uri:r,reason:t}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,C.jsx)(n,{spec:i.emptyResultsFactory(),children:(0,C.jsx)(pe,{forChip:F.Wm.podcastAndEpisodes()})}):(0,C.jsx)(n,{spec:i,children:(0,C.jsxs)("div",{className:pt,children:[0!==e?.podcasts.totalCount&&(0,C.jsx)("div",{children:(0,C.jsx)(dt,{position:0,category:"podcasts",title:F.Wm.podcastAndEpisodes(),query:s,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,C.jsx)("div",{children:(0,C.jsx)(ct,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var ht=t(31970);const gt="bCoyoXohuLs0f6urF2PD",xt="EF2m35WFubo6yUwP04MQ",yt=({displayChips:e,category:s})=>{const{query:t,api:r,serpId:n,onAddToHistory:l}=(0,U.A)(),{results:o,isError:c,fetchData:u,totalCountRef:d}=ge(30,(0,a.useCallback)(((e,a)=>r.getSearchCategoryResults(t,s,!0,e,a)),[r,s,t])),p=(0,a.useCallback)(((e,s)=>(0,C.jsx)(v.ZP,{value:"card",index:s,children:(0,C.jsx)(ut.h,{entity:e,onClick:()=>l(e),testId:`search-category-card-${s}`,index:s})},`${e.uri}-${s}`)),[l]),m=(0,te.ix)(t).toURI(),{spec:h,UBIFragment:g}=(0,y.fU)(ht.N,{data:{uri:m,identifier:s,reason:n}}),x=(0,a.useMemo)((()=>h.cardsFactory()),[h]),j=(0,a.useMemo)((()=>h.emptyResultsFactory()),[h]);return c?(0,C.jsx)(ee.p,{}):0===d.current?(0,C.jsx)(g,{spec:j,children:(0,C.jsx)(pe,{forChip:F.Wm[s]()})}):(0,C.jsx)(g,{spec:x,children:(0,C.jsx)("div",{className:i()(gt,{[xt]:e}),children:o&&(0,C.jsx)(Js.C,{onReachBottom:u,triggerOnInitialLoad:!1,children:(0,C.jsx)(G.T,{render:()=>o.map(((e,s)=>p(e,s)))})})})})};var jt=t(87963),ft=t(44501),vt=t(97428),kt=t(34997),Ct=t(36342);const bt=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:s,api:t,serpId:r}=(0,U.A)(),{results:i,isError:n,fetchData:l,totalCountRef:o}=ge(e,(0,a.useCallback)(((e,a)=>t.getSearchCategoryResults(s,"tracks",!1,e,a)),[t,s])),c=(0,a.useCallback)(((e,s)=>{const t=(0,kt.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,C.jsx)(Ct.e9,{index:s,uri:(0,vt.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:t?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},s+e.uri)}),[]),u=(0,a.useMemo)((()=>[Ct.QD.INDEX,Ct.QD.TITLE,Ct.QD.ALBUM,Ct.QD.DURATION]),[]),d=(0,a.useCallback)((e=>e.uri),[]),m=(0,te.ix)(s).toURI(),{spec:h,UBIFragment:g}=(0,y.fU)(jt.h,{data:{uri:m,reason:r}}),x=(0,a.useMemo)((()=>h.tracksFactory()),[h]),j=p.ag.get("search.showing-category-query-songs",s);if(n)return(0,C.jsx)(ee.p,{});if(0===o.current)return(0,C.jsx)(g,{spec:h.emptyResultsFactory(),children:(0,C.jsx)(pe,{forChip:F.Wm.podcastAndEpisodes()})});const f=ft.K1+48;return(0,C.jsx)(g,{spec:x,children:(0,C.jsx)(v.ZP,{value:"search-results-tracklist",children:(0,C.jsx)("div",{children:i&&(0,C.jsx)(Js.C,{triggerOnInitialLoad:!1,onReachBottom:l,children:(0,C.jsx)(Ct.Pv,{ariaLabel:j,hasHeaderRow:!0,columns:u,renderRow:c,resolveUri:d,nrTracks:i.length,headerTop:f,tracks:i},s)})})})})},St="hciep85bysUuJqNoK7uw",Rt="Xa3KEcm2U_GOL2KMSoHw",Et="KjXzXFYQr6Wp2QlxPUAY",It=({category:e})=>{const{query:s,api:t,serpId:r}=(0,U.A)(),{results:n,isError:l,fetchData:o,totalCountRef:c}=ge(50,(0,a.useCallback)(((a,r)=>t.getSearchCategoryResults(s,e,!0,a,r)),[t,e,s])),u=(0,te.ix)(s).toURI(),{spec:d,UBIFragment:p}=(0,y.fU)(ht.N,{data:{uri:u,identifier:e,reason:r}}),{ref:m,breakpoint:h}=(0,is.Db)({[is.Uo.MEDIUM]:0,[is.Uo.LARGE]:600}),g=(0,a.useMemo)((()=>d.cardsFactory()),[d]);if(l)return(0,C.jsx)(ee.p,{});if(0===c.current)return(0,C.jsx)(p,{spec:d.emptyResultsFactory(),children:(0,C.jsx)(pe,{forChip:F.Wm[e]()})});const x="episodes"===e||"podcasts"===e,j="topResults"===e;return(0,C.jsx)(p,{spec:g,children:(0,C.jsx)(is.ZU.Provider,{value:h,children:(0,C.jsx)("div",{ref:m,className:i()(St,{[Et]:x}),children:n&&(0,C.jsx)(Js.C,{onReachBottom:o,triggerOnInitialLoad:!1,className:Rt,children:n.map(((e,s)=>(0,C.jsx)(Ys,{entity:e,index:s,withEntityTag:j},e.uri)))})})})})},Nt=({results:e,hasResults:s})=>{const{query:t,serpId:r}=(0,U.A)(),i=(0,te.ix)(t).toURI(),{spec:n,UBIFragment:l}=(0,y.fU)(ht.N,{data:{uri:i,identifier:"topResults",reason:r}}),{ref:o,breakpoint:c}=(0,is.Db)({[is.Uo.MEDIUM]:0,[is.Uo.LARGE]:600}),u=(0,a.useMemo)((()=>n.cardsFactory()),[n]);return e&&s||n.emptyResultsFactory(),(0,C.jsx)(l,{spec:u,children:(0,C.jsx)(is.ZU.Provider,{value:c,children:(0,C.jsx)("div",{ref:o,className:St,children:e&&(0,C.jsx)(Js.C,{triggerOnInitialLoad:!1,className:Rt,children:e.topResults.items.map(((e,s)=>(0,C.jsx)(Ys,{entity:e,index:s,withEntityTag:!0},e.uri)))})})})})},wt="podcastAndEpisodes",At="episodes",Ut=({results:e,hasResults:s,displayChips:t})=>{const{category:a}=(0,U.A)(),r=(0,u.W6)(S.Dzq);return a?a===wt?(0,C.jsx)(mt,{results:e}):r?"topResults"===a?(0,C.jsx)(Nt,{results:e,hasResults:s}):(0,C.jsx)(It,{category:a}):"tracks"===a?(0,C.jsx)(bt,{}):a===At?(0,C.jsx)(ct,{enableInfiniteScroll:!0,showTitle:!1}):(0,C.jsx)(yt,{displayChips:t,category:a}):(0,C.jsx)(ee.p,{})};var Ft=t(10861),Dt=t(49261),Pt=t(5700);const Tt=a.memo((function({tracks:e,query:s}){const t=(0,a.useCallback)(((e,s)=>{const t=(0,kt.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,C.jsx)(Ct.pt,{uri:(0,vt.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:s,imgUrl:t?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},e.uri)}),[]),r=(0,a.useMemo)((()=>[Ct.QD.TITLE,Ct.QD.DURATION]),[]),i=(0,a.useCallback)((e=>e.uri),[]);return e&&(0,C.jsx)(v.ZP,{value:"search-results-tracklist",children:(0,C.jsx)(Ct.Pv,{ariaLabel:p.ag.get("search.a11y.songs-search-results"),renderRow:t,rowPlaceholder:Ct.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:i,columns:r},s)})}),((e,s)=>e.tracks===s.tracks));var qt=t(82234);const Lt="search-searchResult-tracklistHeader",Mt="search-searchResult-tracklistHeaderWrapper",_t="search-searchResult-tracklistHeaderText",Ht="VL6wjp4Br_D3FEWrUGGR",Bt="search-searchResult-tracklistContainer",Ot="search-searchResult-tracklist",Wt=({tracks:e,query:s,className:t,showSeeAll:r=!0,spec:n})=>{const l=(0,y.$P)(),o=(0,a.useCallback)((()=>(0,C.jsx)("div",{className:Ot,children:(0,C.jsx)(a.Suspense,{fallback:null,children:(0,C.jsx)(Tt,{tracks:e.items,query:s})})})),[s,e]),c=`spotify:app:search:${encodeURIComponent(s)}:tracks`,u=(0,a.useCallback)((()=>{const e=n.headerFactory().titleFactory().hitUiNavigate({destination:c});l.logInteraction(e)}),[l,n,c]),d=(0,a.useCallback)((()=>{const e=n.headerFactory().seeAllFactory().hitUiNavigate({destination:c});l.logInteraction(e)}),[l,n,c]);return e.items.length?(0,C.jsxs)("section",{className:i()(Bt,t),"aria-label":p.ag.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,C.jsx)("div",{className:Lt,children:e.items.length>3?(0,C.jsxs)("div",{className:Mt,children:[(0,C.jsx)("div",{className:_t,children:(0,C.jsx)(ie.D,{as:"h2",variant:"canon",children:r?(0,C.jsx)(A.Link,{to:c,className:Ht,onClick:u,children:p.ag.get("search.title.tracks")}):(0,C.jsx)("span",{className:Ht,children:p.ag.get("search.title.tracks")})})}),r&&(0,C.jsx)(qt.SeeAll,{link:c,onClick:d})]}):(0,C.jsx)(ie.D,{as:"h2",variant:"canon",className:Ht,children:p.ag.get("search.title.tracks")})}),(0,C.jsx)(y.Nh,{spec:n,children:(0,C.jsx)(G.T,{render:o})})]}):null},zt=({topRecommendations:e,query:s,className:t,onAddToHistory:a,position:r,showSeeAll:i})=>{const n=e.totalCount||0;return(0,C.jsx)(j.q,{index:r,id:"top-recommendations",className:t,total:n,title:p.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(s)}:topRecommendations`,showSeeAll:i,children:e.items.map(((e,s)=>(0,C.jsx)(v.ZP,{index:s,value:"top-recommendations",children:(0,C.jsx)(ut.h,{onClick:()=>a(e),entity:e,index:s})},e.uri)))})};var $t=t(854);const Zt="search-searchResult-topResult",Gt="search-searchResult-topResultCard",Qt="search-searchResult-searchResultGrid",Xt="EFHPppToKFxfm6SRhL6K",Kt="search-searchResult-tracklistShort",Vt="search-searchResult-tracklistLong",Yt="FTRmZyHUkeVY_X3RawUc",Jt="Tx_CKMgRE8CpW5vLdpAe",ea=({topResults:e,onAddToHistory:s})=>{const[t]=e.items;return t&&(0,C.jsx)($t.P,{total:1,className:Zt,title:p.ag.get("search.title.top-result"),children:[(0,C.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Gt,children:(0,C.jsx)(v.ZP,{value:"top-result-card",children:(0,C.jsx)(ut.h,{isHero:!0,index:0,onClick:()=>s(t),entity:t})})},"top-result-item")]})},sa=({results:e})=>{const{query:s,onAddToHistory:t,serpId:r}=(0,U.A)(),i=(0,te.ix)(s).toURI(),{spec:n,UBIFragment:l}=(0,y.fU)(Pt.r,{data:{uri:i,reason:r}}),o=e.topResults.items.length>0,c=e.tracks.items.length>0,u=e.topRecommendations.items.length>0,d=(0,a.useMemo)((()=>({topResult:n.topResultFactory(),trackList:n.trackListFactory(),shelves:n.shelvesFactory()})),[n]);return(0,C.jsx)(G.T,{className:Qt,rowGap:Dt.mG,testId:"search-results",render:({columnCount:a})=>{let r,i;return o?r=a>3?Kt:Vt:u&&(a>5&&c?(r=Xt,i=Yt):(r=Vt,i=Jt)),(0,C.jsxs)(v.ZP,{value:"search-results",children:[o&&(0,C.jsx)(l,{spec:d.topResult,children:(0,C.jsx)(ea,{topResults:e.topResults,onAddToHistory:t})}),c&&(0,C.jsx)(Wt,{spec:d.trackList,className:r,query:s,tracks:e.tracks,onAddToHistory:t,showSeeAll:!1}),u&&(0,C.jsx)(l,{spec:d.shelves,children:(0,C.jsx)(zt,{position:0,query:s,className:i,topRecommendations:e.topRecommendations,onAddToHistory:t,showSeeAll:!1})}),F.Pd.map(((a,r)=>(0,C.jsx)(l,{spec:d.shelves,children:(0,C.jsx)(dt,{position:r+1,category:a,title:F.Wm[a](),query:s,results:e[a],onAddToHistory:t,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},ta=({results:e,hasResults:s,category:t="topResults"})=>{const a=(0,u.W6)(S.Dzq),{category:r,query:i,serpId:n}=(0,U.A)(),l=(0,te.ix)(i).toURI(),o=!(0,Z.k)(),{spec:c,UBIFragment:d}=(0,y.fU)(Pt.r,{data:{uri:l,reason:n}});return o?(0,C.jsx)(pe,{}):e?e&&!s?(0,C.jsx)(d,{spec:c.emptyResultsFactory(),children:(0,C.jsx)(pe,{})}):a&&!r?t===wt?(0,C.jsx)(mt,{results:e}):(0,C.jsx)(Nt,{results:e,hasResults:s}):(0,C.jsx)(sa,{results:e}):null};var aa=t(1391),ra=t(40245),ia=t(35960),na=t(64043),la=t(49615),oa=t(60168),ca=t(54329),ua=t(99770),da=t(95915),pa=t(79548);const ma=({results:e,hasResults:s})=>{const t=(0,u.W6)(S.Dzq),{isBrowser:r}=(0,n.v9)((e=>e.platform)),o=(0,n.v9)(oa.rZ),c=(0,ia.g)(),p=(0,ca.s4)(),{category:m}=(0,U.A)(),h=((e,s,t)=>{const a=e?.chipOrder?.items??[];return Array.from(a.reduce(((a,r)=>{if(!r.typeName)return a;if(!t&&r.typeName===O.xN.TopResults)return a;const[i,n]=$[r.typeName];return n&&i&&(s===n||e?.[i]?.items?.length)?(a.add(n),a):a}),new Set([])))})(e,m,t),g="podcasts"!==m&&"episodes"!==m,x=t?h[0]:void 0,y=(e=>{if(!e)return!1;const[s]=e.topResults.items;return Boolean(s&&s.type===W.p.TRACK)})(e),j=(0,u.W6)(S.zzt);return(0,a.useEffect)((()=>{r||e&&s&&(({eventSender:e,country:s,isAnonymous:t,context:a,variant:r})=>{const i={category:"internal-search-test",action:"search-results-page-visit",variant:r,label:"desktop-app",context:a,os:(0,z.y)(),country:s,spt:(0,B.vQ)("sp_t")};t?e.send((0,H.k)(i)):e.send((0,_.x)(i))})({eventSender:p,country:o,isAnonymous:c,context:JSON.stringify({top_result_is_track:y,version:(0,la.b)()}),variant:j})}),[o,p,s,c,r,e,y,j]),(0,C.jsxs)(v.ZP,{value:"search-page",children:[(0,C.jsx)(ra.w,{children:(0,C.jsx)(Ft.M,{isSearchChipsEnabled:!0})}),(0,C.jsx)(M,{searchCategories:h,selectedCategory:m??x,displayChips:g}),(0,C.jsx)("div",{className:i()("contentSpacing",{[pa.Z.narrowPage]:t&&e}),id:"searchPage",children:(0,C.jsx)(G.T,{className:pa.Z.searchPageGrid,render:()=>(0,C.jsxs)(l.Z5,{children:[(0,C.jsx)(l.AW,{path:"/",element:(0,C.jsx)(K.K,{pageId:d.Wg.FIND,entityUri:"spotify:app:search",children:(0,C.jsx)(E,{})})}),(0,C.jsx)(l.AW,{path:":query",element:(0,C.jsx)(J,{children:(0,C.jsx)(ta,{results:e,hasResults:s,category:x})})}),(0,C.jsx)(l.AW,{path:":query/:category",element:(0,C.jsx)(Y,{children:(0,C.jsx)(Ut,{results:e,hasResults:s,displayChips:g})})})]})})})]})};const ha=a.memo((function(){const e=(0,u.W6)(S.Dzq),s=!(0,Z.k)(),[{category:t,query:r},i]=(0,da.l)();(0,na.z)("search");const[n,l]=(0,a.useState)({results:null,queryForResults:""}),o=n.results,d=function(e){return null!==e&&void 0!==Object.keys(e).find((s=>"chipOrder"!==s&&e[s].items.length>0))}(o),m=(0,a.useMemo)((()=>new ua.k((0,X.PQ)(Q.b.getInstance()))),[]),{searchHistory:h,setSearchHistory:g}=(0,k.u)(),x=(0,a.useCallback)((e=>{g([e,...h])}),[h,g]),y=(0,a.useCallback)((async e=>{e===n.queryForResults&&d||i(e,t,!1)}),[n.queryForResults,t,d,i]);(0,a.useEffect)((()=>{(async()=>{if(!r)return;if(s)return void l({results:null,queryForResults:r});const t=e?20:5,a=await m.getSearchResults(r,!0,0,10,t);l({results:a,queryForResults:r})})()}),[r,m,e,s]),(0,a.useEffect)((()=>{r||l({results:null,queryForResults:""})}),[r]);const j=(0,a.useMemo)((()=>c().create().toString()),[t,n.queryForResults]),f=(0,a.useMemo)((()=>({api:m,category:t,query:n.queryForResults,onAddToHistory:x,onSearchRequest:y,serpId:j})),[m,t,x,y,n.queryForResults,j]);return(0,C.jsxs)(U.N,{value:f,children:[(0,C.jsx)(aa.$,{children:p.ag.get("search.page-title")}),(0,C.jsx)(ma,{results:o,hasResults:d})]})}))},24393:(e,s,t)=>{t.d(s,{V:()=>P,e:()=>F});var a=t(59496),r=t(83792),i=t(9990),n=t(22321),l=t(14887),o=t(11891),c=t(59528),u=t(41946),d=t(26413),p=t(6722),m=t(23650),h=t(39667),g=t(84351),x=t(90784),y=t(18112),j=t(35960),f=t(34483),v=t(70231),k=t(4085),C=t(29553),b=t(15644),S=t(26790),R=t(40674),E=t(34046),I=t(25639),N=t(57161),w=t(72390),A=t(47948),U=t(4637);function F(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const D=e=>`activation-trigger-mme-${e}`,P=a.memo((function({index:e=-1,showMetadata:s,episode:t,usePlayContextItem:P,status:T,variant:q}){const L=(0,w.E)(),M=t.playedState.playPositionMilliseconds,_=t.uri,H=(0,a.useRef)(null),[B,O]=(0,a.useState)(t.playedState.state===I.sY.Completed),W=(0,x.O)(),z=(0,j.g)(),$=(0,S.jh)(),Z=(0,y.o)(),G=(0,r.I0)(),{UBIFragment:Q,spec:X,logger:K}=(0,E.fU)(n.createDesktopEpisodeBlockEventFactory,{data:{uri:_,reason:t.requestId||"",position:e}}),V=(0,E.Wi)(X),{isActive:Y,isPlaying:J,togglePlay:ee}=P({uri:_}),[se]=(0,R.z)(1e4,(e=>e?.item?.uri===_));(0,a.useEffect)((()=>{J&&(H.current=se)}),[J,se]),(0,a.useEffect)((()=>{!J&&H.current&&t.duration.milliseconds<=H.current&&O(!0)}),[J,t.duration.milliseconds]);const te=(0,a.useCallback)((e=>{e||(H.current=0),O(e)}),[]),ae=e=>{if(e.target!==e.currentTarget)return;const a=`${t.name} • ${s.name}`;W(e,[_],a,s.uri)},re=F(s),ie=(0,f.s)({...t,coverArt:{sources:t.coverArt}},re),ne=(0,a.useCallback)((()=>{if(t.episodeType===I.Wf.Episode&&L)h.y.set((()=>({triggerId:D(t.uri),triggerAction:null})));else if(z)ie();else{let e;e=J?X.playButtonFactory().hitPause({itemToBePaused:_}):Y?X.playButtonFactory().hitResume({itemToBeResumed:_}):X.playButtonFactory().hitPlay({itemToBePlayed:_});const s=K.logInteraction(e);Z({targetUri:_,intent:J?"pause":"play",type:"click"}),ee({loggingParams:s})}}),[Y,ie,Z,ee,_,J,z,t,L,K,X]),le=(0,a.useCallback)((()=>{K.logInteraction(X.hitUiNavigate({destination:_})),Z({type:"click",targetUri:_,intent:"navigate"})}),[_,Z,K,X]),oe=t.podcastSubscription?.isPaywalled??!1,ce=t.podcastSubscription?.isUserSubscribed??!1,ue=oe&&!ce,de=oe&&z,{badges:pe}=(0,N.r)({contentRating:t.contentRating?.label,isPaywalled:oe}),me=(0,a.useCallback)((()=>G((0,o.RM)(s.uri))),[s.uri,G]),he=(0,a.useCallback)((e=>{let a=e;return(ue||de)&&(a=(0,U.jsx)(m.l,{enabled:!0,showUri:s.uri,children:a})),!t.playability.playable&&pe.nineteen&&(a=(0,U.jsx)("div",{onClick:e=>{e.stopPropagation(),me()},children:e})),a=(0,U.jsx)(c.D,{id:D(_),targetURI:(0,l.EC)(_),children:a}),a}),[_,ue,de,s.uri,pe.nineteen,t.playability.playable,me]),ge=(0,i.W6)(A.eli,{loadingValue:!1});return(0,U.jsx)(Q,{spec:X,children:(0,U.jsx)(b.ZP,{value:"row",index:e,children:(0,U.jsx)(v._,{onShow:()=>{K.logInteraction(X.secondaryHitUiReveal())},menu:(0,U.jsx)(u.k,{uri:_,showUri:s.uri,sharingInfo:t.sharingInfo,isPlayed:B,onMarkAsPlayed:te}),children:ge?(0,U.jsx)(p.k,{ref:V,requestId:t.requestId,index:e,uri:_,size:$,images:t.coverArt||[],name:t.name,showName:s.name,description:t.description,isPlayable:t.playability.playable||ue,fullyPlayed:B,durationMs:t.duration.milliseconds,releaseDate:t.releaseDate?.isoString||"",resumePositionMs:H.current??M,handleDragStart:ae,handlePlaybackClick:ne,handleClick:le,isCurrentlyPlaying:Y,isPaywalled:oe,isUserSubscribed:ce,isPlaying:J,position:J?se:void 0,episodeSharingInfo:t.sharingInfo,onMarkAsPlayed:te,contentInformation:t.contentInformation,badges:(0,U.jsxs)(U.Fragment,{children:[pe.explicit&&(0,U.jsx)(k.N,{}),pe.paid&&(0,U.jsx)(g.g,{}),pe.nineteen&&(0,U.jsx)(C.X,{size:16})]}),playButtonWrapper:he,onMoreButtonClick:()=>{K.logInteraction(X.moreButtonFactory().hitUiReveal())},status:T,variant:q}):(0,U.jsx)(d.X,{ref:V,requestId:t.requestId,index:e,uri:_,size:$,images:t.coverArt||[],name:t.name,showName:s.name,description:t.description,isPlayable:t.playability.playable||ue,fullyPlayed:B,durationMs:t.duration.milliseconds,releaseDate:t.releaseDate?.isoString||"",resumePositionMs:H.current??M,handleDragStart:ae,handlePlaybackClick:ne,handleClick:le,isCurrentlyPlaying:Y,isPaywalled:oe,isUserSubscribed:ce,isPlaying:J,position:J?se:void 0,episodeSharingInfo:t.sharingInfo,onMarkAsPlayed:te,contentInformation:t.contentInformation,badges:(0,U.jsxs)(U.Fragment,{children:[pe.explicit&&(0,U.jsx)(k.N,{}),pe.paid&&(0,U.jsx)(g.g,{}),pe.nineteen&&(0,U.jsx)(C.X,{size:16})]}),playButtonWrapper:he,onMoreButtonClick:()=>{K.logInteraction(X.moreButtonFactory().hitUiReveal())},status:T,variant:q})})})})}))},34483:(e,s,t)=>{t.d(s,{s:()=>p});var a=t(59496),r=t(18112);const i=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function n(e,s){return e.filter((e=>e.label?e.label===s:e.width?i(e.width)===s:!!e.height&&i(e.height)===s))[0]}var l=t(95228);function o(e){const s=n(e,"standard"),t=n(e,"large"),a=n(e,"small"),r=n(e,"xlarge");return{image_url:s?.url,image_height:s?.height?.toString(),image_width:s?.width?.toString(),image_url_large:t?.url,image_height_large:t?.height?.toString(),image_width_large:t?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:r?.url,image_height_xlarge:r?.height?.toString(),image_width_xlarge:r?.width?.toString()}}var c=t(19031),u=t(93256),d=t(95195);function p(e,s){const t=(0,r.o)(),i=(0,c.g)(),{isPlaying:n,isActive:p}=(0,u.$o)(e?.uri||""),{isActive:m}=(0,u.cR)(s?.uri||"");return(0,a.useCallback)((a=>{if(!s||!e)return;const r=function(e,s){const t=(e.coverArt?.sources||[]).sort(((e,s)=>(s.width||0)-(e.width||0))),a=(0,l.Xb)(e,s),r=(0,l.Ie)(s)||a;return{uri:e.uri,title:e.name,subtitle:s.name,type:"episode",album_uri:s.uri,album_title:s.name,artist_uri:s.uri,artist_name:s.name,...o(t),media_type:"audio",isTrailer:a,anonymousPlaybackAllowed:r}}(e,s);m&&!n&&p&&!a?i.resume():m&&n&&!a?(t({type:"click",intent:"pause",targetUri:e.uri}),i.pause()):(t({type:"click",intent:"play",targetUri:e.uri}),i.play({uri:s.uri,pages:[{items:[{type:d.p.EPISODE,uri:e.uri,uid:null,metadata:r,provider:null}]}]},{referrerIdentifier:i.getReferrer(),featureIdentifier:"episode"},a))}),[p,n,m,i,t,s,e])}},97428:(e,s,t)=>{t.d(s,{$:()=>a});const a=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map